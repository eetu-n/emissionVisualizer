<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Emission Visualizer</title>
    <script src="{{ url_for('static', filename='js/chart.js/dist/Chart.js') }}"></script>
</head>
<body>
<div>
    <form method="POST" id="selector">
        <select name="selected_country">
            {%  for option in country_list %}
                <option value="{{ option }}">{{ option }}</option>
            {% endfor %}
        </select>
        <select name="selected_year_min">
            {% for year in generic_year_list %}
                <option value="{{ year }}">{{ year }}</option>
            {% endfor %}
        </select>
        <select name="selected_year_max">
            {%  for year in generic_year_list %}
            <option value="{{ year }}">{{ year }}</option>
            {% endfor %}
        </select>
        <input type="checkbox" id="selected_data" name="selected_data">
        <label for="selected_data">Per Capita</label>
    </form>
    <button type="submit" form="selector">Submit</button>
</div>
{% if received %}
    <div>
        <p>
            {% if data_type == "emissions" %}
                Emissions for
            {% else %}
                Population of
            {% endif %}
            {{ country }} in {{ year }}: {{ data }}
        </p>
    </div>
{% endif %}

<canvas id="myChart"></canvas>

<script>
    var ctx = document.getElementById('myChart').getContext('2d');
    var chart = new Chart(ctx, {
    type: 'line',

    data: {
        labels: {{ labels }},
        datasets: [{
            label: "Emissions " + {% if data_type == 'emissions_per_capita' %} "per capita " + {% endif %}
                "in " + "{{ country }}",
            backgroundColor: 'rgb(255, 99, 132)',
            borderColor: 'rgb(255, 99, 132)',
            data: {{ values }},
        }]
    },

    // Configuration options go here
    options: {}
});
</script>
</body>
</html>